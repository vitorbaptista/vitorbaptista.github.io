<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Cartas Codenames Edição Viagem</title>
    <style>
        :root {
            /* Primary colors */
            --primary-dark: #2c3e50;
            --primary-light: #34495e;
            --secondary-dark: #7f8c8d;
            --secondary-light: #ecf0f1;

            /* Team colors */
            --red-primary: #e74c3c;
            --red-dark: #c0392b;
            --blue-primary: #3498db;
            --blue-dark: #2980b9;

            /* Word card colors */
            --word-dark: #3e5770;
            --word-light: #ecf0f1;
            --word-dark-text: white;
            --word-light-text: #2c3e50;

            /* Neutral colors */
            --gray-light: #bdc3c7;
            --gray-medium: #d5dbdb;
            --black: #1a252f;

            /* Success colors */
            --success-primary: #27ae60;
            --success-dark: #229954;
            --success-light: #e8f5e8;

            /* Border colors */
            --border-light: #bdc3c7;
            --border-dark: #333;

            /* Text colors */
            --text-dark: #2c3e50;
            --text-light: white;

            /* Shadow colors */
            --shadow-color: rgba(0,0,0,0.3);
            --shadow-light: rgba(0,0,0,0.1);
            --shadow-red: rgba(231, 76, 60, 0.3);
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-light));
            margin: 0;
            padding: 10px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 20px 40px var(--shadow-color);
        }

        @media (min-width: 768px) {
            body {
                padding: 20px;
            }

            .container {
                padding: 30px;
            }
        }

        .title {
            text-align: center;
            color: var(--text-dark);
            font-size: 1.8em;
            margin-bottom: 8px;
            font-weight: bold;
            line-height: 1.2;
        }

        .subtitle {
            text-align: center;
            color: var(--secondary-dark);
            font-size: 1em;
            margin-bottom: 20px;
        }

        @media (min-width: 768px) {
            .title {
                font-size: 2.5em;
                margin-bottom: 10px;
            }

            .subtitle {
                font-size: 1.2em;
                margin-bottom: 30px;
            }
        }

        .input-section {
            background: var(--secondary-light);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        @media (min-width: 768px) {
            .input-section {
                padding: 25px;
                margin-bottom: 30px;
            }
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            color: var(--text-dark);
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .word-input {
            width: 100%;
            height: 120px;
            padding: 12px;
            border: 2px solid var(--border-light);
            border-radius: 6px;
            font-family: monospace;
            font-size: 13px;
            resize: vertical;
            box-sizing: border-box;
        }

        .word-input:focus {
            border-color: var(--blue-primary);
            outline: none;
        }

        .help-text {
            font-size: 12px;
            color: var(--secondary-dark);
            margin-top: 5px;
        }

        .generate-btn {
            background: linear-gradient(135deg, var(--red-primary), var(--red-dark));
            color: var(--text-light);
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px var(--shadow-red);
        }

        .print-section {
            margin-top: 30px;
        }

        .print-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        @media (min-width: 768px) {
            .print-controls {
                gap: 15px;
                margin-bottom: 20px;
            }
        }

        .print-btn {
            background: var(--success-primary);
            color: var(--text-light);
            border: none;
            padding: 10px 16px;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            flex: 1;
            min-width: 120px;
            max-width: 200px;
        }

        @media (min-width: 768px) {
            .print-btn {
                padding: 12px 24px;
                flex: none;
            }
        }

        .print-btn:hover {
            background: var(--success-dark);
            transform: translateY(-1px);
        }

        .preview-area {
            padding: 20px;
            min-height: 200px;
            display: none;
        }

        .preview-area.show {
            display: block;
        }

        .page-preview {
            background: white;
            width: 210mm;
            height: 297mm;
            margin: 0 auto 20px;
            box-shadow: 0 4px 8px var(--shadow-light);
            position: relative;
            box-sizing: border-box;
            display: grid;
            place-items: center;
        }

        /* Scale down on smaller screens while maintaining proportions */
        @media (max-width: 220mm) {
            .page-preview {
                width: 100%;
                max-width: 210mm;
                height: auto;
                aspect-ratio: 210 / 297;
            }
        }

        /* Print styles - A4 optimized */
        @media print {
            @page {
                margin: 0;
                size: A4 portrait;
            }

            * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            html, body {
                background: white !important;
                margin: 0 !important;
                padding: 0 !important;
            }

            .container {
                background: white !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                padding: 0 !important;
                margin: 0 !important;
                max-width: none !important;
            }

            .input-section,
            .print-controls,
            .title,
            .subtitle,
            .status-message {
                display: none !important;
            }

            .preview-area {
                border: none !important;
                background: white !important;
                position: absolute !important;
                padding: 0 !important;
                margin: 0 !important;
                top: 0 !important;
                left: 0 !important;
            }

            .page-preview {
                box-shadow: none !important;
                border: none !important;
                break-after: always;
                break-inside: avoid;
                width: 210mm !important;
                height: 297mm !important;
                margin: 0 !important;
                padding: 0 !important;
                position: relative !important;
                max-width: none !important;
                aspect-ratio: auto !important;
            }

            .page-preview:last-child {
                break-after: auto;
            }

            .print-card {
                break-inside: avoid;
                page-break-inside: avoid;
            }
        }

        /* Card grid for A4 */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(4, 45mm);
            grid-template-rows: repeat(4, 68mm);
            /* Fixed size for perfect centering */
            width: 198mm; /* 4 × 45mm  + (210mm - 4 × 45mm) / 5 * 3 = 198mm -- divided by 5 because it's 3 gaps between the cards + 2 margins (left and right) */
            height: 287mm; /* 4 × 68mm + (297mm - 4 × 68mm) / 5 * 3 = 287mm */
            column-gap: 6mm;
            row-gap: 5mm;
            box-sizing: border-box;
            position: relative;
        }

        .print-card {
            width: 45mm;
            height: 68mm;
            position: relative;
            background: white;
            overflow: hidden;
            display: flex;
            flex-direction: row;
        }

        .card-half {
            width: 50%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16pt;
            position: relative;
            word-wrap: break-word;
            padding: 2mm;
            box-sizing: border-box;
            text-transform: uppercase;
        }

        .card-half.top {
            background: var(--word-dark);
            color: var(--word-dark-text);
        }

        .card-half.bottom {
            background: var(--word-light);
            color: var(--word-light-text);
        }

        .card-half.top span {
            transform: rotate(90deg);
            display: inline-block;
        }

        .card-half.bottom span {
            transform: rotate(-90deg);
            display: inline-block;
        }

        .agent-card {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60pt;
            color: var(--text-light);
        }

        .agent-card.red {
            background: linear-gradient(135deg, var(--red-primary), var(--red-dark));
        }

        .agent-card.blue {
            background: linear-gradient(135deg, var(--blue-primary), var(--blue-dark));
        }

        .agent-card.spy {
            background: linear-gradient(45deg, var(--red-primary) 0%, var(--red-primary) 50%, var(--blue-primary) 50%, var(--blue-primary) 100%);
            position: relative;
        }

        .agent-card.civilian {
            background: var(--gray-light);
        }

        .agent-card.assassin {
            background: linear-gradient(135deg, var(--primary-dark), var(--black));
        }

        .agent-card span {
            transform: rotate(90deg);
            display: inline-block;
        }

        /* Keycard styles - simplified for PDF */
        .keycard {
            border: 1mm solid var(--border-dark);
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 0.5mm;
            padding: 2mm;
            box-sizing: border-box;
        }

        .keycard.red-start {
            border-color: var(--red-primary);
        }

        .keycard.blue-start {
            border-color: var(--blue-primary);
        }

        .key-cell {
            border: 0.5px solid rgba(0,0,0,0.1);
        }

        .key-cell.red {
            background: var(--red-primary);
        }

        .key-cell.blue {
            background: var(--blue-primary);
        }

        .key-cell.spy {
            background: var(--primary-dark);
        }

        .key-cell.civilian {
            background: var(--gray-light);
        }

        .status-message {
            text-align: center;
            padding: 20px;
            background: var(--gray-medium);
            border-radius: 6px;
            color: var(--text-dark);
            font-weight: bold;
        }

        .instructions {
            background: var(--success-light);
            border: 1px solid var(--success-primary);
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .instructions h3 {
            color: var(--success-primary);
            margin-top: 0;
        }

        .instructions ul {
            margin: 0;
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">CODENAMES EDIÇÃO VIAGEM</h1>
        <p class="subtitle">Gerador de Cartas para Impressão</p>

        <div class="input-section">
            <div class="instructions">
                <h3>🎯 Como Criar Suas Cartas</h3>
                <ul>
                    <li><strong>Cartas de Palavras:</strong> Digite qualquer número de palavras (mínimo 4) - uma por linha</li>
                    <li><strong>Imprimir:</strong> Use papel A4. As cartas têm 45x68mm (padrão mini euro).</li>
                    <li><strong>Cartas de Agente:</strong> 25 no total - 8 vermelhos 🔥, 8 azuis 💧, 1 agente duplo ⚡, 1 espião 💀, 7 civis 👤</li>
                    <li><strong>Cartas-chave:</strong> 40 cartas de mestre-espião aleatórias - 20 início vermelho, 20 início azul</li>
                </ul>
            </div>

            <div class="input-group">
                <label class="input-label" for="wordList">Palavras (uma por linha):</label>
                <textarea id="wordList" class="word-input" placeholder="ACHAR&#10;ÁFRICA&#10;ÁGUA&#10;AMARELO&#10;AMAZONAS&#10;AMÉRICA&#10;AMOR&#10;ARARA&#10;ASSISTIR&#10;ATO&#10;AZUL&#10;BACIA&#10;BAIXO&#10;BALA&#10;BANCO&#10;BANDEIRANTES&#10;BARATA&#10;BARRA&#10;BATERIA&#10;BATIDA&#10;BEBER&#10;BEIJINHO&#10;BEIRUTE&#10;BEXIGA&#10;BICHO"></textarea>
                <div class="help-text">Digite qualquer número de palavras (mínimo 4 para uma grade 2x2).</div>
            </div>

            <button class="generate-btn" onclick="generateCards()">🎮 Gerar Cartas</button>
        </div>

        <div class="print-section">
            <div class="print-controls" id="printControls" style="display: none;">
                <button class="print-btn" onclick="window.print()">📄 Imprimir</button>
            </div>

            <div class="preview-area" id="previewArea">
                <!-- Cards will be generated here -->
                <div id="wordCardsArea"></div>
                <div id="agentAndKeyCardsArea"></div>
            </div>

            <div class="status-message" id="statusMessage">
                Digite sua lista de palavras acima e clique em "Gerar Cartas" para criar seu baralho personalizado!
            </div>
        </div>
    </div>

    <script>
        function generateCards() {
            const wordList = document.getElementById('wordList').value.trim();
            const words = wordList.split('\n').map(w => w.trim()).filter(w => w.length > 0);

            if (words.length < 4) {
                alert(`Por favor, digite pelo menos 4 palavras. Você tem ${words.length} palavras.`);
                return;
            }

            // Calculate grid size - largest square that fits all words
            const gridSize = Math.ceil(Math.sqrt(words.length));
            const totalCells = gridSize * gridSize;

            const previewArea = document.getElementById('previewArea');
            const wordCardsArea = document.getElementById('wordCardsArea');
            const agentAndKeyCardsArea = document.getElementById('agentAndKeyCardsArea');
            const statusMessage = document.getElementById('statusMessage');
            const printControls = document.getElementById('printControls');

            wordCardsArea.innerHTML = '';
            agentAndKeyCardsArea.innerHTML = '';
            previewArea.classList.add('show');
            printControls.style.display = 'flex';

            // Update status message
            statusMessage.innerHTML = `Gerado grade ${gridSize}×${gridSize} com ${words.length} palavras<br>
                               + 25 cartas de agente (8 vermelhos, 8 azuis, 1 agente duplo, 1 espião, 7 civis)<br>
                               + 40 cartas-chave (20 início vermelho, 20 início azul)`;

            // Create word cards
            createWordCardPages(words, wordCardsArea);

            // Create agent cards based on grid size
            createAgentCardPage(agentAndKeyCardsArea, gridSize);

            // Create keycards (40 total - 20 red start, 20 blue start)
            createKeycardPages(agentAndKeyCardsArea);
        }

        function generateKeycard(startingTeam) {
            // Create array with the right distribution
            const cells = [];

            // Add cells based on starting team
            if (startingTeam === 'red') {
                cells.push(...Array(9).fill('red'));
                cells.push(...Array(8).fill('blue'));
            } else {
                cells.push(...Array(9).fill('blue'));
                cells.push(...Array(8).fill('red'));
            }

            cells.push('spy'); // 1 spy
            cells.push(...Array(7).fill('civilian')); // 7 civilians

            // Shuffle the array
            for (let i = cells.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cells[i], cells[j]] = [cells[j], cells[i]];
            }

            return cells;
        }

        function createWordCardPages(words, container) {
            const cardsPerPage = 16;
            const numCards = words.length; // One word per card now
            const totalPages = Math.ceil(numCards / cardsPerPage);

            for (let pageNum = 0; pageNum < totalPages; pageNum++) {
                const page = document.createElement('div');
                page.className = 'page-preview';

                const grid = document.createElement('div');
                grid.className = 'card-grid';

                const startCardIdx = pageNum * cardsPerPage;
                const endCardIdx = Math.min(startCardIdx + cardsPerPage, numCards);

                for (let cardIdx = startCardIdx; cardIdx < endCardIdx; cardIdx++) {
                    const card = document.createElement('div');
                    card.className = 'print-card';

                    const word = words[cardIdx];

                    const topHalf = document.createElement('div');
                    topHalf.className = 'card-half top';
                    const topSpan = document.createElement('span');
                    topSpan.textContent = word;
                    topHalf.appendChild(topSpan);

                    const bottomHalf = document.createElement('div');
                    bottomHalf.className = 'card-half bottom';
                    const bottomSpan = document.createElement('span');
                    bottomSpan.textContent = word;
                    bottomHalf.appendChild(bottomSpan);

                    card.appendChild(topHalf);
                    card.appendChild(bottomHalf);
                    grid.appendChild(card);
                }

                page.appendChild(grid);
                container.appendChild(page);
            }
        }

        function createAgentCardPage(container, gridSize) {
            // Fixed agent distribution: 8 red, 8 blue, 1 double agent, 1 spy, 7 civilians
            const redAgents = 8;
            const blueAgents = 8;
            const doubleAgents = 1;
            const spies = 1;
            const civilians = 7;
            const totalAgentCards = redAgents + blueAgents + doubleAgents + spies + civilians; // 25 cards

            const cardsPerPage = 16;
            const totalPages = Math.ceil(totalAgentCards / cardsPerPage);

            // Create agent cards array
            const agentCards = [
                ...Array(redAgents).fill({type: 'red', symbol: '🔥'}),
                ...Array(blueAgents).fill({type: 'blue', symbol: '💧'}),
                ...Array(doubleAgents).fill({type: 'spy', symbol: '⚡'}),
                ...Array(spies).fill({type: 'assassin', symbol: '💀'}),
                ...Array(civilians).fill({type: 'civilian', symbol: '👤'})
            ];

            // Create pages for agent cards
            for (let pageNum = 0; pageNum < totalPages; pageNum++) {
                const page = document.createElement('div');
                page.className = 'page-preview';

                const grid = document.createElement('div');
                grid.className = 'card-grid';

                const startIdx = pageNum * cardsPerPage;
                const endIdx = Math.min(startIdx + cardsPerPage, totalAgentCards);

                for (let i = startIdx; i < endIdx; i++) {
                    const cardData = agentCards[i];
                    const card = document.createElement('div');
                    card.className = `print-card agent-card ${cardData.type}`;
                    const span = document.createElement('span');
                    span.textContent = cardData.symbol;
                    card.appendChild(span);
                    grid.appendChild(card);
                }

                page.appendChild(grid);
                container.appendChild(page);
            }
        }

        function createKeycardPages(container) {
            const keycardsPerPage = 16;
            const totalKeycards = 40; // 20 red start + 20 blue start
            const totalPages = Math.ceil(totalKeycards / keycardsPerPage);

            for (let pageNum = 0; pageNum < totalPages; pageNum++) {
                const page = document.createElement('div');
                page.className = 'page-preview';

                const grid = document.createElement('div');
                grid.className = 'card-grid';

                const startCardIdx = pageNum * keycardsPerPage;
                const endCardIdx = Math.min(startCardIdx + keycardsPerPage, totalKeycards);

                for (let cardIdx = startCardIdx; cardIdx < endCardIdx; cardIdx++) {
                    // First 20 are red start, next 20 are blue start
                    const startingTeam = cardIdx < 20 ? 'red' : 'blue';
                    const keycardData = generateKeycard(startingTeam);

                    const keycard = document.createElement('div');
                    keycard.className = `print-card keycard ${startingTeam}-start`;

                    keycardData.forEach(cellType => {
                        const cell = document.createElement('div');
                        cell.className = `key-cell ${cellType}`;
                        keycard.appendChild(cell);
                    });

                    grid.appendChild(keycard);
                }

                page.appendChild(grid);
                container.appendChild(page);
            }
        }

        // Load default words on page load
        window.addEventListener('load', function() {
            const defaultWords = `ACHAR
ÁFRICA
ÁGUA
AMARELO
AMAZONAS
AMÉRICA
AMOR
ARARA
ASSISTIR
ATO
AZUL
BACIA
BAIXO
BALA
BANCO
BARATA
BARRA
BATERIA
BATIDA
BEBER
BEIJINHO
BEIRUTE
BEXIGA
BICHO
BOCA
BOLO
BOLSA
BOMBA
BORRACHA
BOTÃO
BRASIL
BRASÍLIA
BRIGADEIRO
BURRO
CABO
CACHO
CACHORRO
CADEIA
CAIXA
CÂMBIO
CANA
CANAL
CANELA
CANINO
CANTO
CAPA
CAPACHO
CAPITAL
CARA
CAROLINA
CARRINHO
CARTA
CARTEIRA
CELULAR
CENTRO
COBERTURA
COBRE
COLHER
COLUNA
COMIDA
CÔMODO
COMPANHIA
COMPRIMIDO
CONJUNTO
CONSTRUÇÃO
CONTA
COPA
CORAÇÃO
COROA
CORRENTE
CORTE
COSTA
CRÉDITO
CRIADO
CRIANÇA
DADO
DAMA
DAMASCO
DIREITO
DISCO
EIXO
ELEMENTO
ESCOLA
ESPAÇO
ESPINHA
ESTAÇÃO
ESTADO
ESTRELA
EUROPA
EXTRA
FAIXA
FEIRA
FLORA
FOGO
FONTE
FORTALEZA
FORTE
FRANCA
FRUTO
GATO
GLOBO
GOL
GOLPE
GRAÇA
GRAMA
GRAVATA
GUARDA
HOMEM
IARA
IMPRESSÃO
ÍNDIA
ÍRIS
LAMPIÃO
LARANJA
LEÃO
LEGAL
LEITO
LETRAS
LIBERDADE
LIBRA
LIMA
LINHA
MACACO
MANGA
MANGUEIRA
MANUAL
MARCA
MARCOS
MASSA
MATO
MEIA
MERCÚRIO
MÍDIA
MINA
MODELO
MORTE
MUDA
MULHER
NASCIMENTO
NATAL
NOTA
OBRA
ÔNIBUS
ÓRGÃO
PACÍFICO
PALMAS
PAPA
PARAÍBA
PARTIDA
PASSE
PASTOR
PATA
PAULISTA
PÉ
PEÃO
PEÇA
PENA
PERFIL
PERU
PIA
PINHEIROS
PIRATA
PISTA
PLANO
PLANTA
POLO
PONTO
PORCA
PORCO
PORTA
PRAGA
PRÉDIO
PREGAR
PRESENTE
PRESUNTO
PRINCESA
PRIVADA
PROGRAMA
QUADRO
QUARTA
QUARTO
RAIO
RAIZ
RALAR
RAMO
RATO
REAL
RECIFE
REDE
REI
REVISTA
RIO
RODAPÉ
ROMANCE
ROSA
ROSCA
ROTA
ROUPA
SAIR
SALVADOR
SANTOS
SAPINHO
SATÉLITE
SECA
SEDE
SEGUNDA
SENA
SENTENÇA
SENTIDO
SINAL
SISTEMA
SOL
SONDA
SONHO
SUSPENSÃO
TAMBOR
TANQUE
TECLADO
TELA
TÊNIS
TERÇO
TERNO
TERRA
TOMADA
TORNADO
TORTA
TRILHA
TRONCO
VALE
VANGUARDA
VARA
VASO
VELHO
VENDA
VERDE
VERMELHO
VIAGEM
VITÓRIA
VOLTA
XADREZ`;
            document.getElementById('wordList').value = defaultWords;
        });
    </script>
</body>
</html>
